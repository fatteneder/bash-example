steps:
  - label: ":hammer: Example Script"
    plugins:
      - library-example#v1.0.0: ~
      - https://github.com/fatteneder/diff-filter-buildkite-plugin#a14f2b257919cef232d2320af5ad75b243e22467:
          name: "docs"
          match:
            - "testdir/docs/*"
      - https://github.com/fatteneder/diff-filter-buildkite-plugin#a14f2b257919cef232d2320af5ad75b243e22467:
          name: "build"
          match:
            - "testdir/*"
          ignore:
            - "testdir/**/*.md"
    commands: |
      echo "Hello"
      echo $${BUILDKITE_PLUGIN_DIFF_FILTER_TRIGGERED_DOCS}
      echo $${BUILDKITE_PLUGIN_DIFF_FILTER_TRIGGERED_BUILD}
      echo "World!!!!"
      if [[ $${BUILDKITE_PLUGIN_DIFF_FILTER_TRIGGERED_DOCS} == 1 ]]; then
        script.sh
      fi
      if [[ $${BUILDKITE_PLUGIN_DIFF_FILTER_TRIGGERED_BUILD} == 1 ]]; then
        script.sh
      fi
    artifact_paths: "artifacts/*"
